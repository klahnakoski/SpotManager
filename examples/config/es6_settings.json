{
	"budget": 3.00,                //MAXIMUM SPEND PER HOUR FOR ALL INSTANCES
	"max_utility_price": 0.02,     //MOST THAT WILL BE SPENT ON A SINGLE UTILITY POINT
	"max_new_utility": 120,        //MOST NEW UTILITY THAT WILL BE REQUESTED IN A SINGLE RUN
	"max_requests_per_type": 2,    //LIMIT THE NUMBER OF NET-NEW REQUESTS BY TYPE
	"max_percent_per_type": 1.00,  //ALL INSTANCE TYPES MAY NOT GO OVER THIS AS A PERCENT OF TOTAL INSTANCES (USED TO MITIGATE LOOSING ALL INSTANCES AT ONCE)
	"uptime":{
		"history": "week",         //HOW MUCH HISTORY TO USE
		"duration": "day",         //HOW LONG WE WOULD LIKE OUR MACHINE TO TO STAY UP
		"bid_percentile": 0.95     //THE PROBABILITY WE ACHIEVE OUR UPTIME
	},
	"price_file": "resources/aws/prices.json",
	"run_interval": "10minute",    //HOW LONG BEFORE NEXT RUN
	"availability_zone": "us-west-2c",
	"product":"Linux/UNIX (Amazon VPC)",
	"aws": {
		"$ref": "//~/private.json#aws_credentials"
	},
	"more_drives":[
		{"path":"/data1", "size":1000, "volume_type":"standard"}
	],
	"1_ephemeral_drives":[
		{"path":"/data1", "device":"/dev/sdb"}
	],
	"2_ephemeral_drives":[
		{"path":"/data1", "device":"/dev/sdb"},
		{"path":"/data2", "device":"/dev/sdc"}
	],
	"3_ephemeral_drives":[
		{"path":"/data1", "device":"/dev/sdb"},
		{"path":"/data2", "device":"/dev/sdc"},
		{"path":"/data3", "device":"/dev/sdd"}
	],
	"4_ephemeral_drives":[
		{"path":"/data1", "device":"/dev/sdb"},
		{"path":"/data2", "device":"/dev/sdc"},
		{"path":"/data3", "device":"/dev/sdd"},
		{"path":"/data4", "device":"/dev/sde"}
	],
	"6_ephemeral_drives":[
		{"path":"/data1", "device":"/dev/sdb"},
		{"path":"/data2", "device":"/dev/sdc"},
		{"path":"/data3", "device":"/dev/sdd"},
		{"path":"/data4", "device":"/dev/sde"},
		{"path":"/data5", "device":"/dev/sdf"},
		{"path":"/data6", "device":"/dev/sdg"}
	],
	"8_ephemeral_drives":[
		{"path":"/data1", "device":"/dev/sdb"},
		{"path":"/data2", "device":"/dev/sdc"},
		{"path":"/data3", "device":"/dev/sdd"},
		{"path":"/data4", "device":"/dev/sde"},
		{"path":"/data5", "device":"/dev/sdf"},
		{"path":"/data6", "device":"/dev/sdg"},
		{"path":"/data7", "device":"/dev/sdh"},
		{"path":"/data8", "device":"/dev/sdi"}
	],
	"utility":[
		// ONE POINT PER 1 GIG OF MEMORY. OR 2 PER 100 GIG OF DRIVESPACE, OR 60 POINTS, WHICHEVER IS LESS
		// EBS IS WAY TO SLOW FOR ELASTICSEARCH
//		{"instance_type": "c1.medium", "storage": 350, "drives": {"$ref": "#1_ephemeral_drives"}, "discount": 0, "ecu": 5, "num_drives": 1, "memory": 1.7, "cpu": 2, "utility": 1.7},
//		{"instance_type": "c1.xlarge", "storage": 1680, "drives": {"$ref": "#4_ephemeral_drives"}, "discount": 0, "ecu": 20, "num_drives": 4, "memory": 7, "cpu": 8, "utility": 7},
		{"instance_type": "c3.2xlarge", "storage": 160, "drives": {"$ref": "#2_ephemeral_drives"}, "discount": 0, "ecu": 28, "num_drives": 2, "memory": 15, "cpu": 8, "utility": 3.2},
		{"instance_type": "c3.4xlarge", "storage": 320, "drives": {"$ref": "#2_ephemeral_drives"}, "discount": 0, "ecu": 55, "num_drives": 2, "memory": 30, "cpu": 16, "utility": 6.4},
		{"instance_type": "c3.8xlarge", "storage": 640, "drives": {"$ref": "#2_ephemeral_drives"}, "discount": 0, "ecu": 108, "num_drives": 2, "memory": 60, "cpu": 32, "utility": 12.8},
		{"instance_type": "c3.large", "storage": 32, "drives": {"$ref": "#2_ephemeral_drives"}, "discount": 0, "ecu": 7, "num_drives": 2, "memory": 3.75, "cpu": 2, "utility": 0.64},
		{"instance_type": "c3.xlarge", "storage": 80, "drives": {"$ref": "#2_ephemeral_drives"}, "discount": 0, "ecu": 14, "num_drives": 2, "memory": 7.5, "cpu": 4, "utility": 1.6},
		{"blacklist":true, "instance_type": "cc2.8xlarge", "storage": 3360, "drives": {"$ref": "#4_ephemeral_drives"}, "discount": 0, "ecu": 88, "num_drives": 4, "memory": 60.5, "cpu": 32, "utility": 60},
//		{"instance_type": "cg1.4xlarge", "storage": 1680, "drives": {"$ref": "#2_ephemeral_drives"}, "discount": 0, "ecu": 33.5, "num_drives": 2, "memory": 22.5, "cpu": 16, "utility": 22.5},
		{"instance_type": "cr1.8xlarge", "storage": 240, "drives": {"$ref": "#2_ephemeral_drives"}, "discount": 0, "ecu": 88, "num_drives": 2, "memory": 244, "cpu": 32, "utility": 4.8},
		{"instance_type": "d2.2xlarge", "storage": 12000, "drives": {"$ref": "#6_ephemeral_drives"}, "discount": 0, "ecu": 28, "num_drives": 6, "memory": 61, "cpu": 8, "utility": 60},
		{"instance_type": "d2.4xlarge", "storage": 24000, "drives": {"$ref": "#8_ephemeral_drives"}, "discount": 0, "ecu": 56, "num_drives": 12, "memory": 122, "cpu": 16, "utility": 60},
		{"instance_type": "d2.8xlarge", "storage": 48000, "drives": {"$ref": "#8_ephemeral_drives"}, "discount": 0, "ecu": 116, "num_drives": 24, "memory": 244, "cpu": 36, "utility": 60},
		{"instance_type": "d2.xlarge", "storage": 6000, "drives": {"$ref": "#3_ephemeral_drives"}, "discount": 0, "ecu": 14, "num_drives": 3, "memory": 30.5, "cpu": 4, "utility": 30.5},
		{"instance_type": "g2.2xlarge", "storage": 60, "drives": {"$ref": "#1_ephemeral_drives"}, "discount": 0, "ecu": 26, "num_drives": 1, "memory": 15, "cpu": 8, "utility": 1.2},
		{"instance_type": "g2.8xlarge", "storage": 240, "drives": {"$ref": "#2_ephemeral_drives"}, "discount": 0, "ecu": 104, "num_drives": 2, "memory": 60, "cpu": 32, "utility": 4.8},
		{"instance_type": "hi1.4xlarge", "storage": 2048, "drives": {"$ref": "#2_ephemeral_drives"}, "discount": 0, "ecu": 35, "num_drives": 2, "memory": 60.5, "cpu": 16, "utility": 40.96},
//		{"instance_type": "hs1.8xlarge", "storage": 48000, "drives": {"$ref": "#8_ephemeral_drives"}, "discount": 0, "ecu": 35, "num_drives": 24, "memory": 117, "cpu": 16, "utility": 60},
		{"instance_type": "i2.2xlarge", "storage": 1600, "drives": {"$ref": "#2_ephemeral_drives"}, "discount": 0, "ecu": 27, "num_drives": 2, "memory": 61, "cpu": 8, "utility": 32.0},
		{"instance_type": "i2.4xlarge", "storage": 3200, "drives": {"$ref": "#4_ephemeral_drives"}, "discount": 0, "ecu": 53, "num_drives": 4, "memory": 122, "cpu": 16, "utility": 60},
		{"instance_type": "i2.8xlarge", "storage": 6400, "drives": {"$ref": "#8_ephemeral_drives"}, "discount": 0, "ecu": 104, "num_drives": 8, "memory": 244, "cpu": 32, "utility": 60},
		{"instance_type": "i2.xlarge", "storage": 800, "drives": {"$ref": "#1_ephemeral_drives"}, "discount": 0, "ecu": 14, "num_drives": 1, "memory": 30.5, "cpu": 4, "utility": 16.0},
//		{"instance_type": "i3.16xlarge", "storage": 15200, "drives": {"$ref": "#8_ephemeral_drives"}, "discount": 0, "ecu": 200, "num_drives": 8, "memory": 488, "cpu": 64, "utility": 60},
//		{"instance_type": "i3.2xlarge", "storage": 1900, "drives": {"$ref": "#1_ephemeral_drives"}, "discount": 0, "ecu": 27, "num_drives": 1, "memory": 61, "cpu": 8, "utility": 38.0},
//		{"instance_type": "i3.4xlarge", "storage": 3800, "drives": {"$ref": "#2_ephemeral_drives"}, "discount": 0, "ecu": 53, "num_drives": 2, "memory": 122, "cpu": 16, "utility": 60},
//		{"instance_type": "i3.8xlarge", "storage": 7600, "drives": {"$ref": "#4_ephemeral_drives"}, "discount": 0, "ecu": 99, "num_drives": 4, "memory": 244, "cpu": 32, "utility": 60},
//		{"instance_type": "i3.large", "storage": 475, "drives": {"$ref": "#1_ephemeral_drives"}, "discount": 0, "ecu": 7, "num_drives": 1, "memory": 15.25, "cpu": 2, "utility": 9.5},
//		{"instance_type": "i3.xlarge", "storage": 950, "drives": {"$ref": "#1_ephemeral_drives"}, "discount": 0, "ecu": 13, "num_drives": 1, "memory": 30.5, "cpu": 4, "utility": 19.0},
//		{"instance_type": "m1.large", "storage": 840, "drives": {"$ref": "#2_ephemeral_drives"}, "discount": 0, "ecu": 4, "num_drives": 2, "memory": 7.5, "cpu": 2, "utility": 7.5},
//		{"instance_type": "m1.medium", "storage": 410, "drives": {"$ref": "#1_ephemeral_drives"}, "discount": 0, "ecu": 2, "num_drives": 1, "memory": 3.75, "cpu": 1, "utility": 3.75},
//		{"instance_type": "m1.small", "storage": 160, "drives": {"$ref": "#1_ephemeral_drives"}, "discount": 0, "ecu": 1, "num_drives": 1, "memory": 1.7, "cpu": 1, "utility": 1.7},
//		{"instance_type": "m1.xlarge", "storage": 1680, "drives": {"$ref": "#4_ephemeral_drives"}, "discount": 0, "ecu": 8, "num_drives": 4, "memory": 15, "cpu": 4, "utility": 15},
//		{"instance_type": "m2.2xlarge", "storage": 850, "drives": {"$ref": "#1_ephemeral_drives"}, "discount": 0, "ecu": 13, "num_drives": 1, "memory": 34.2, "cpu": 4, "utility": 17.0},
//		{"instance_type": "m2.4xlarge", "storage": 1680, "drives": {"$ref": "#2_ephemeral_drives"}, "discount": 0, "ecu": 26, "num_drives": 2, "memory": 68.4, "cpu": 8, "utility": 33.6},
//		{"instance_type": "m2.xlarge", "storage": 420, "drives": {"$ref": "#1_ephemeral_drives"}, "discount": 0, "ecu": 6.5, "num_drives": 1, "memory": 17.1, "cpu": 2, "utility": 8.4},
		{"instance_type": "m3.2xlarge", "storage": 160, "drives": {"$ref": "#2_ephemeral_drives"}, "discount": 0, "ecu": 26, "num_drives": 2, "memory": 30, "cpu": 8, "utility": 3.2},
		{"instance_type": "m3.large", "storage": 32, "drives": {"$ref": "#1_ephemeral_drives"}, "discount": 0, "ecu": 6.5, "num_drives": 1, "memory": 7.5, "cpu": 2, "utility": 0.64},
		{"instance_type": "m3.medium", "storage": 4, "drives": {"$ref": "#1_ephemeral_drives"}, "discount": 0, "ecu": 3, "num_drives": 1, "memory": 3.75, "cpu": 1, "utility": 0.08},
		{"instance_type": "m3.xlarge", "storage": 80, "drives": {"$ref": "#2_ephemeral_drives"}, "discount": 0, "ecu": 13, "num_drives": 2, "memory": 15, "cpu": 4, "utility": 1.6},
		{"instance_type": "r3.2xlarge", "storage": 160, "drives": {"$ref": "#1_ephemeral_drives"}, "discount": 0, "ecu": 26, "num_drives": 1, "memory": 61, "cpu": 8, "utility": 3.2},
		{"instance_type": "r3.4xlarge", "storage": 320, "drives": {"$ref": "#1_ephemeral_drives"}, "discount": 0, "ecu": 52, "num_drives": 1, "memory": 122, "cpu": 16, "utility": 6.4},
		{"instance_type": "r3.8xlarge", "storage": 640, "drives": {"$ref": "#2_ephemeral_drives"}, "discount": 0, "ecu": 104, "num_drives": 2, "memory": 244, "cpu": 32, "utility": 12.8},
		{"instance_type": "r3.large", "storage": 32, "drives": {"$ref": "#1_ephemeral_drives"}, "discount": 0, "ecu": 6.5, "num_drives": 1, "memory": 15.25, "cpu": 2, "utility": 0.64},
		{"instance_type": "r3.xlarge", "storage": 80, "drives": {"$ref": "#1_ephemeral_drives"}, "discount": 0, "ecu": 13, "num_drives": 1, "memory": 30.5, "cpu": 4, "utility": 1.6},
		{"instance_type": "x1.16xlarge", "storage": 1920, "drives": {"$ref": "#1_ephemeral_drives"}, "discount": 0, "ecu": 174.5, "num_drives": 1, "memory": 976, "cpu": 64, "utility": 38.4},
		{"instance_type": "x1.32xlarge", "storage": 3840, "drives": {"$ref": "#2_ephemeral_drives"}, "discount": 0, "ecu": 349, "num_drives": 2, "memory": 1952, "cpu": 128, "utility": 60}
	],
	"ec2": {
		"request": {
			//SEE http://boto.readthedocs.org/en/latest/ref/ec2.html#boto.ec2.connection.EC2Connection.request_spot_instances
			"price": 0.001,
			"image_id": "ami-bf4193c7",
			"count": 1,
			"type": "one-time",
			"valid_from": null,
			"valid_until": null,
			"expiration": "hour",  //SPECIAL, USED TO FILL valid_until
			"launch_group": null,
			"availability_zone_group": null,
			"key_name": "aws-pulse-logger",
			"security_groups": null,
			"user_data": null,
			"addressing_type": null,
			"instance_type": null,
			"placement": null,
			"kernel_id": null,
			"ramdisk_id": null,
			"monitoring_enabled": false,
			"subnet_id": null,
			"placement_group": "es5",
			"block_device_map": null,
			"instance_profile_arn": null,
			"instance_profile_name": "ActiveData-ES-Node",
			"security_group_ids": null,
			"ebs_optimized": false,
			"network_interfaces": {
				"subnet_id": "subnet-137a7748",
				"groups": ["sg-c69186bb"],
				"associate_public_ip_address": true
			},
			"dry_run": false
		},
		"instance": {
			"name": "ActiveData ES6 Spot Instance"
		}
	},
	"instance":{
		"class":"examples.es6.ES6Spot",
		"minimum_utility": 2000,
		"connect": {
			//USED IN Fabric's `env` GLOBAL CONFIG OBJECT
			"user": "ec2-user",
			"key_filename": "~/.ssh/aws-pulse-logger.pem",
			"disable_known_hosts": true,
			"host_string": "",
			"port": 22,
			"password": "",
			"banner_timeout": 30
		},
		"new_volume":{
			"size":1000,
			"volume_type":"magnetic",
			"zone": "us-west-2c",
			"snapshot": null,
			"iops":null,
			"encrypted":false
		}
	},
	"debug": {
		"trace": true,
		"cprofile": {
			"enabled": false,
			"filename": "results/examples_spot_profile.tab"
		},
		"log": [
			{
				"class": "logging.handlers.RotatingFileHandler",
				"filename": "examples/logs/es6.log",
				"maxBytes": 10000000,
				"backupCount": 10,
				"encoding": "utf8"
			},
			{
				"log_type": "ses",
				"from_address": "klahnakoski@mozilla.com",
				"to_address": "klahnakoski@mozilla.com",
				"subject": "[ALERT][Manager] Problem in ES6 Spot",
				"$ref": "file://~/private.json#aws_credentials"
			},
			{
				"log_type": "console"
			}
		]
	}
}
